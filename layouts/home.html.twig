{%- set social_icons = {
  github: {
    icon: 'github',
    color: 'text-social-github',
  },
  linkedin: {
    icon: 'linkedin',
    color: 'text-social-linkedin',
  },
  instagram: {
    icon: 'instagram',
    color: 'text-social-instagram',
  },
  youtube: {
    icon: 'youtube',
    color: 'text-social-youtube',
  },
  mastodon: {
    icon: 'mastodon',
    color: 'text-social-mastodon',
  },
  steam: {
    icon: 'steam',
    color: 'text-social-steam',
  },
  bluesky: {
    icon: 'bluesky',
    color: 'text-social-bluesky',
  },
  threads: {
    icon: 'threads',
    color: 'text-social-threads',
  },
  twitter: {
    icon: 'twitter',
    color: 'text-social-twitter',
  },
  x: {
    icon: 'x-twitter',
    color: 'text-social-x',
  },
} -%}
{%- import 'macros/fontawesome.twig' as fontawesome -%}
{% extends ['page.html.twig', '_default/page.html.twig'] %}

        {%- block main ~%}
        {#- social links ~#}
        {%- if site.social|default([]) ~%}
        <div class="mt-4 flex flex-row justify-center space-x-2">
          {%- for social_name, social_values in site.social ~%}
            {%- if social_values['url'] is defined ~%}
              {%- set icon, color = social_icons[social_name]['icon']|default(social_name), social_icons[social_name]['color']|default('text-inherit') ~%}
          <a href="{{ social_values['url'] }}" title="{{ social_name|capitalize }}">
            <span class="{{ color }} dark:text-inherit">{{ fontawesome.icon(icon, 'brands', 'xl') ~}}</span>
            <span class="sr-only">{{ social_name|capitalize }}</span>
          </a>
            {%- endif ~%}
          {%- endfor ~%}
        </div>
        {%- endif ~%}
        {#- content ~#}
        <div class="mt-4 font-normal">
          {%- block content ~%}
          {{ page.content }}
          {%- endblock content ~%}
        </div>
        {#- links ~#}
        {%- if page.links|default|length > 0 ~%}
        <ol class="mt-4 max-w-lg mx-auto grid gap-4 md:gap-8 md:gap-y-4">
          {%- set hex_array = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'] -%}
          {%- for link in page.links|default ~%}
            {#- button background color (randomized) ~#}
            {%- set hex = '' -%}
            {%- for i in 1..6 -%}
              {%- set hex = hex ~ random(hex_array) -%}
            {%- endfor -%}
            {%- set rgb = link.color|default('#' ~ hex)|hex_to_rgb ~%}
          {#- button text color (auto contrast) ~#}
          <style>
            {% apply minify_css ~%}
            :root {
              --button-{{ loop.index }}-color: calc((((({{ rgb.red }} * 299) + ({{ rgb.green }} * 587) + ({{ rgb.blue }} * 114)) / 1000) - 128) * -1000);
            }
            {%- endapply ~%}
          </style>
          {#- button ~#}
          <li>
            <a id="buton-{{ loop.index }}"
              style="background-color: {{ link.color|default('#' ~ hex) }}; color: rgb(var(--button-{{ loop.index }}-color), var(--button-{{ loop.index }}-color), var(--button-{{ loop.index }}-color))"
              class="flex justify-center items-center space-x-2.5 p-3 px-5 rounded-md font-semibold hover:no-underline dark:brightness-90 transition ease-in-out hover:scale-[102%] duration-300"
              href="{{ link.url }}"
            >
              <span class="flex-none">{{ fontawesome.icon(link.icon|default('solid:link')|split(':')[1], link.icon|default('solid:link')|split(':')[0], 'lg') ~}}</span>
              <span class="grow text-lg pr-5">{{ link.title }}<span>
            </a>
          </li>
          {%- endfor ~%}
        </ol>
        {%- endif ~%}
        {%- endblock main ~%}